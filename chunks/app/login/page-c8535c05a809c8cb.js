(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{518:function(e,t,s){Promise.resolve().then(s.bind(s,378))},378:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(3827),r=s(4090),n=s(7907),i=s(8792),l=s(2670),o=s(1633);function c(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{register:m,handleSubmit:u,formState:{errors:g}}=(0,l.cI)(),x=async t=>{try{d(!0),s(""),(await o.O.login(t)).token&&e.push("/dashboard")}catch(e){s("Usuario o contrase\xf1a incorrectos")}finally{d(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,a.jsx)("h1",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"PlanPlan"}),(0,a.jsx)("h2",{className:"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Iniciar sesi\xf3n"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tu correo y contrase\xf1a"})]}),(0,a.jsxs)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-[480px]",children:[(0,a.jsxs)("div",{className:"bg-white px-6 py-12 shadow sm:rounded-lg sm:px-12",children:[(0,a.jsxs)("form",{className:"space-y-6",onSubmit:u(x),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Correo electr\xf3nico"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("input",{...m("username",{required:"El correo es requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Correo electr\xf3nico inv\xe1lido"}}),id:"email",type:"email",autoComplete:"email",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-black sm:text-sm sm:leading-6",placeholder:"email@ejemplo.com"}),g.username&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.username.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Contrase\xf1a"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("input",{...m("password",{required:"La contrase\xf1a es requerida",minLength:{value:6,message:"La contrase\xf1a debe tener al menos 6 caracteres"}}),id:"password",type:"password",autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-black sm:text-sm sm:leading-6",placeholder:"••••••••"}),g.password&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:g.password.message})]})]}),t&&(0,a.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:t})})})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:c,className:"flex w-full justify-center rounded-md bg-black px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-gray-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Cargando...":"Continuar"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative mt-10",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm font-medium leading-6",children:(0,a.jsx)("span",{className:"bg-white px-6 text-gray-900",children:"o continuar con"})})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{type:"button",className:"flex w-full items-center justify-center gap-3 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:ring-transparent",onClick:()=>alert("Funci\xf3n no disponible a\xfan"),children:[(0,a.jsx)("img",{className:"h-5 w-5",src:"/google.svg",alt:"Google"}),(0,a.jsx)("span",{className:"text-sm font-semibold leading-6",children:"Google"})]}),(0,a.jsxs)("button",{type:"button",className:"flex w-full items-center justify-center gap-3 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:ring-transparent",onClick:()=>alert("Funci\xf3n no disponible a\xfan"),children:[(0,a.jsx)("img",{className:"h-5 w-5",src:"/apple.svg",alt:"Apple"}),(0,a.jsx)("span",{className:"text-sm font-semibold leading-6",children:"Apple"})]})]})]})]}),(0,a.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Al continuar, aceptas nuestros"," ",(0,a.jsx)(i.default,{href:"/terms",className:"font-semibold leading-6 text-black hover:text-gray-800",children:"T\xe9rminos de Servicio"})," ","y"," ",(0,a.jsx)(i.default,{href:"/privacy",className:"font-semibold leading-6 text-black hover:text-gray-800",children:"Pol\xedtica de Privacidad"})]})]})]})}},1633:function(e,t,s){"use strict";s.d(t,{O:function(){return i},Z:function(){return l}});var a=s(3107);let r=s(9079).env.NEXT_PUBLIC_API_URL||"https://proyeckev.uc.r.appspot.com",n=a.Z.create({baseURL:r,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let i={async login(e){let t=await n.post("/api/login",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},async register(e){let{confirm_password:t,...s}=e;return(await n.post("/api/register",s)).data},logout(){localStorage.removeItem("token"),localStorage.removeItem("user")},getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated:()=>!!localStorage.getItem("token"),report:async e=>(await n.post("/api/report",{problem:e})).data},l={getPosts:async()=>(await n.get("/api/posts")).data,createPost:async e=>(await n.post("/api/posts",e)).data,likePost:async e=>(await n.post("/api/posts/".concat(e,"/like"))).data,commentPost:async(e,t)=>(await n.post("/api/posts/".concat(e,"/comment"),{comment:t})).data}}},function(e){e.O(0,[615,792,670,971,69,744],function(){return e(e.s=518)}),_N_E=e.O()}]);