(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3677:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(482),a=s(9108),o=s(2563),i=s.n(o),n=s(8300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9468)),"C:\\ProyectoKPe\\frontend\\src\\app\\dashboard\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"C:\\ProyectoKPe\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\ProyectoKPe\\frontend\\src\\app\\dashboard\\page.tsx"],u="/dashboard/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},984:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},885:(e,t,s)=>{Promise.resolve().then(s.bind(s,2038))},974:()=>{},2038:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(5344),a=s(3729),o=s(8428),i=s(8243);function n(){let e=(0,o.useRouter)(),[t,s]=(0,a.useState)("siguiendo"),[n,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,p]=(0,a.useState)(""),[x,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{(()=>{if(!i.O.isAuthenticated()){e.push("/login");return}m(i.O.getUser())})(),h()},[e]);let h=async()=>{try{d(!0),p("");let e=await i.Z.getPosts();l(e.posts)}catch(t){t.response?.status===401?(i.O.logout(),e.push("/login")):(p("Error al cargar los posts"),console.error(t))}finally{d(!1)}},g=async t=>{try{await i.Z.likePost(t),l(n.map(e=>e.id===t?{...e,likes:e.likes+1}:e))}catch(t){t.response?.status===401?(i.O.logout(),e.push("/login")):console.error("Error al dar like:",t)}},b=async t=>{try{let e=prompt("Escribe tu comentario:");e&&(await i.Z.commentPost(t,e),l(n.map(e=>e.id===t?{...e,comments:e.comments+1}:e)))}catch(t){t.response?.status===401?(i.O.logout(),e.push("/login")):console.error("Error al comentar:",t)}};return c?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-black"})}):(0,r.jsxs)("main",{className:"min-h-screen bg-white pb-16",children:[r.jsx("header",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[r.jsx("h1",{className:"text-xl font-semibold text-center py-4",children:"PlanPlan"}),(0,r.jsxs)("div",{className:"flex justify-center space-x-8 pb-4",children:[r.jsx("button",{onClick:()=>s("siguiendo"),className:`text-sm font-medium ${"siguiendo"===t?"text-black border-b-2 border-black":"text-gray-500"}`,children:"Siguiendo"}),r.jsx("button",{onClick:()=>s("parati"),className:`text-sm font-medium ${"parati"===t?"text-black border-b-2 border-black":"text-gray-500"}`,children:"Para ti"}),r.jsx("button",{onClick:()=>s("favoritos"),className:`text-sm font-medium ${"favoritos"===t?"text-black border-b-2 border-black":"text-gray-500"}`,children:"Favoritos"})]})]})}),(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-4 space-y-6",children:[u&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:u}),n.map(e=>(0,r.jsxs)("article",{className:"bg-white rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 overflow-hidden",children:r.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-500",children:e.user.email.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.user.email.split("@")[0]}),r.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]})]}),r.jsx("button",{className:"text-gray-500",children:r.jsx("span",{className:"text-2xl",children:"..."})})]}),e.image_url&&r.jsx("div",{className:"aspect-square relative",children:r.jsx("img",{src:e.image_url,alt:"Post",className:"w-full h-full object-cover"})}),r.jsx("div",{className:"p-4",children:r.jsx("p",{className:"text-sm",children:e.content})}),(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 pb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("button",{onClick:()=>g(e.id),className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),r.jsx("span",{children:e.likes})]}),(0,r.jsxs)("button",{onClick:()=>b(e.id),className:"flex items-center space-x-1",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsx("span",{children:e.comments})]})]}),r.jsx("button",{children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]})]},e.id))]}),r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200",children:r.jsx("div",{className:"max-w-2xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex justify-between py-3",children:[r.jsx("button",{onClick:()=>e.push("/dashboard"),className:"text-gray-500",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),r.jsx("button",{className:"text-gray-500",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("button",{className:"text-gray-500",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),r.jsx("button",{className:"text-gray-500",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),r.jsx("button",{onClick:()=>{i.O.logout(),e.push("/login")},className:"text-gray-500",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]})})})]})}},8243:(e,t,s)=>{"use strict";s.d(t,{O:()=>i,Z:()=>n});var r=s(7665);let a=process.env.NEXT_PUBLIC_API_URL||"https://proyeckev.uc.r.appspot.com",o=r.Z.create({baseURL:a,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});let i={async login(e){let t=await o.post("/api/login",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},async register(e){let{confirm_password:t,...s}=e;return(await o.post("/api/register",s)).data},logout(){localStorage.removeItem("token"),localStorage.removeItem("user")},getUser(){let e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated:()=>!!localStorage.getItem("token"),report:async e=>(await o.post("/api/report",{problem:e})).data},n={getPosts:async()=>(await o.get("/api/posts")).data,createPost:async e=>(await o.post("/api/posts",e)).data,likePost:async e=>(await o.post(`/api/posts/${e}/like`)).data,commentPost:async(e,t)=>(await o.post(`/api/posts/${e}/comment`,{comment:t})).data}},9468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\ProyectoKPe\frontend\src\app\dashboard\page.tsx`),{__esModule:a,$$typeof:o}=r,i=r.default},1342:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(5036),a=s(3640),o=s.n(a);s(5023);let i={title:"PlanPlan - Organiza tus actividades",description:"Una forma simple y efectiva de organizar tus actividades diarias"};function n({children:e}){return r.jsx("html",{lang:"es",children:r.jsx("body",{className:`${o().className} min-h-screen bg-white`,children:e})})}},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,225,404,665],()=>s(3677));module.exports=r})();